)
suffix <- (Sys.Date()-days(1)) |> format("%Y.%m.%d") |> as.character()
legend(
"topcenter",
legend = c("Ajustada", "Observada"),
col = c("#FFD580", "#ADD8E6"),
bty = "n",
lwd = 4,
cex = 1.2,
text.col = "white"
)
axis(1, col.axis = "white", col="white", at=seq(as.Date("2022-01-01"), as.Date("2025-02-01"), by="year"), labels = seq(as.Date("2022-01-01"), as.Date("2025-02-01"), by="year") |> format("%Y"))
axis(2, col.axis = "white", col="white")
box(col = "white")
abline(v="2025-01-01" |> as.Date(), col="#90EE90", lwd=2, lty="dashed")
legend(
"top",
legend = c("Ajustada", "Observada"),
col = c("#FFD580", "#ADD8E6"),
bty = "n",
lwd = 4,
cex = 1.2,
text.col = "white"
)
suffix <- (Sys.Date()-days(1)) |> format("%Y.%m.%d") |> as.character()
dev.print(png, paste0("output/validacion_plots/observ_prediccion", suffix, ".png"), width = 3024, height = 1964, res = 400)
dev.off()
source("~/Library/Mobile Documents/com~apple~CloudDocs/ATDyT/Entrega 25 - Procesamiento Aduanas/ajutste_aduanas_ATDT/scripts/3-ajusteTDC.R", echo=TRUE)
par(bg=NA, mar=c(3,5,0,0), family="Montserrat", ann=F)
plot(as.Date(plot$fecha), plot$recaudacion, type = "l", lwd = 4, col = "#ADD8E6", axes = FALSE)
lines(as.Date(plot$fecha), plot$recaudacion_aj, t="l", lwd=4, col="#FFD580")
axis(1, col.axis = "white", col="white", at=seq(as.Date("2022-01-01"), as.Date("2025-02-01"), by="year"), labels = seq(as.Date("2022-01-01"), as.Date("2025-02-01"), by="year") |> format("%Y"))
axis(2, col.axis = "white", col="white")
par(bg=NA, mar=c(2,3,0,0), family="Montserrat", ann=F)
plot(as.Date(plot$fecha), plot$recaudacion, type = "l", lwd = 4, col = "#ADD8E6", axes = FALSE)
lines(as.Date(plot$fecha), plot$recaudacion_aj, t="l", lwd=4, col="#FFD580")
axis(1, col.axis = "white", col="white", at=seq(as.Date("2022-01-01"), as.Date("2025-02-01"), by="year"), labels = seq(as.Date("2022-01-01"), as.Date("2025-02-01"), by="year") |> format("%Y"))
axis(2, col.axis = "white", col="white")
box(col = "white")
par(bg=NA, mar=c(2,2,0,0), family="Montserrat", ann=F)
plot(as.Date(plot$fecha), plot$recaudacion, type = "l", lwd = 4, col = "#ADD8E6", axes = FALSE)
lines(as.Date(plot$fecha), plot$recaudacion_aj, t="l", lwd=4, col="#FFD580")
axis(1, col.axis = "white", col="white", at=seq(as.Date("2022-01-01"), as.Date("2025-02-01"), by="year"), labels = seq(as.Date("2022-01-01"), as.Date("2025-02-01"), by="year") |> format("%Y"))
axis(2, col.axis = "white", col="white")
box(col = "white")
abline(v="2025-01-01" |> as.Date(), col="#90EE90", lwd=2, lty="dashed")
source("~/Library/Mobile Documents/com~apple~CloudDocs/ATDyT/Entrega 25 - Procesamiento Aduanas/ajutste_aduanas_ATDT/scripts/3-ajusteTDC.R", echo=TRUE)
source("~/Library/Mobile Documents/com~apple~CloudDocs/ATDyT/Entrega 25 - Procesamiento Aduanas/ajutste_aduanas_ATDT/scripts/3-ajusteTDC.R", echo=TRUE)
n
# Read INPC / ene 25
inpc_df <- read_xlsx("input/inpc.xlsx")[,2] |>
mutate(fecha=seq(as.Date("2021-01-01"), as.Date("2025-02-01"), by="month"))
View(inpc_df)
panel_def <- panel_def |>
mutate(inpc=1/(inpc/100))
load("input/panel_def.RData")
panel_def <- panel_def |>
mutate(
mes=month(fecha),
year=year(fecha)
) |> left_join(inpc_df |> mutate(mes=month(fecha), year=year(fecha)) |> select(-fecha))
panel_def[["inpc"]] <- na.locf(panel_def[["inpc"]], na.rm = FALSE)
panel_def[["inpc"]] <- na.locf(panel_def[["inpc"]], na.rm = FALSE)
panel_def <- panel_def |>
mutate(inpc=1/(inpc/100))
View(panel_def)
source("~/Library/Mobile Documents/com~apple~CloudDocs/ATDyT/Entrega 25 - Procesamiento Aduanas/ajutste_aduanas_ATDT/scripts/1-panel.R", echo=TRUE)
source("~/Library/Mobile Documents/com~apple~CloudDocs/ATDyT/Entrega 25 - Procesamiento Aduanas/ajutste_aduanas_ATDT/scripts/2-elasticidades.R", echo=TRUE)
dev.print(png, paste0("output/validacion_plots/observ_prediccion.png"), width = 3024, height = 1964, res = 400)
dev.off()
source("~/Library/Mobile Documents/com~apple~CloudDocs/ATDyT/Entrega 25 - Procesamiento Aduanas/ajutste_aduanas_ATDT/scripts/3-ajusteTDC.R", echo=TRUE)
source("~/Library/Mobile Documents/com~apple~CloudDocs/ATDyT/Entrega 25 - Procesamiento Aduanas/ajutste_aduanas_ATDT/scripts/4-final.R", echo=TRUE)
source("~/Library/Mobile Documents/com~apple~CloudDocs/ATDyT/Entrega 25 - Procesamiento Aduanas/ajutste_aduanas_ATDT/scripts/5-validacion.R", echo=TRUE)
View(df_real)
View(df_nominal)
# ______________________________________________________________________________
#
# Proyecto:       Entrega 25 - Procesamiento Aduanas
#
# Script:         2-estimaciones.R
# Objetivo:       Modelar recaudación en aduanas.
#
# Autor:          Daniel Kelly
# Email:          daniel.kelly@transformaciondigital.gob.mx
#
# Fecha:          24-Febrero-2025
#
# ______________________________________________________________________________
# PREAMBULO ____________________________________________________________________
#setwd("")
# rm( list=ls() )
#.rs.restartR()
# librerias
pacman::p_load(tidyverse, readxl, showtext, janitor, fixest, zoo)
# idioma
Sys.setlocale("LC_ALL", "es_ES.UTF-8")
Sys.setenv(LANG = "es_MX.UTF-8")
# utilidades
# font_add_google("Montserrat")
# showtext_auto()
options(scipen = 999)
# opciones
#create_project_folders()
#file.edit("~/.Rprofile")
#file.edit("/Users/danielkelly/.config/rstudio/templates/default.R")
# CÓDIGO _______________________________________________________________________
# Data -------------------------------------------------------------------------
igae <- read_xlsx("input/igae.xlsx") |>
mutate(fecha=seq(as.Date("2022-01-01"), as.Date("2024-12-01"), by="month"))
inpc <- read_xlsx("input/inpc.xlsx")|>
mutate(fecha=seq(as.Date("2021-01-01"), as.Date("2025-02-01"), by="month")) |>
filter(year(fecha)>=2022)
tdc <- read_xlsx("input/tdc.xlsx") |>
mutate(
tdc=ifelse(tdc=="N/E", NA, tdc) |> as.numeric(),
fecha=as.Date(fecha, format="%d/%m/%Y") |> format.Date("%Y-%m-%d") |> as.Date()
) |>
filter(year(fecha)>=2022)
load("input/panel_aduanas.RData")
load("input/coef.RData")
# Script -----------------------------------------------------------------------
# Tipo de cambio promedio por mes
tdc_mes <- tdc |>
mutate(fecha=floor_date(fecha, unit="month")) |>
group_by(fecha) |>
summarise(tdc=mean(tdc, na.rm=TRUE))
# Dataframe para estimaciones
df <- data.frame(fecha=seq(as.Date("2022-01-01"), as.Date("2025-03-01"), by="month")) |>
left_join(igae) |> left_join(inpc) |> left_join(tdc_mes) |>
mutate(
mes=month(fecha),
year=year(fecha)
)
# Asignar valores vacíos
for (v in c("igae", "inpc", "tdc")) {
df[[v]] <- na.locf(df[[v]], na.rm = FALSE)
df[[v]] <- na.locf(df[[v]], na.rm = FALSE)
}
# Diferencias en TDC
tdc_base <- tdc_mes$tdc |> tail(1)
df <- df |> mutate(changes_tdc=log(tdc)-log(tdc_base))
# Diferencias en IGAE
igae_base <- igae$igae |> tail(1)
df <- df |> mutate(changes_igae=(log(igae)-log(igae_base)))
# Diferencias en INPC
inpc_base <- inpc$inpc |> tail(1)
df <- df |>  mutate(changes_inpc=log(inpc)-log(inpc_base))
# Eliminar fecha para evitar conflictos en el join
df <- df |> select(-fecha)
# ______________________________________________________________________________
#
# Proyecto:       Entrega 25 - Procesamiento Aduanas
#
# Script:         2-estimaciones.R
# Objetivo:       Modelar recaudación en aduanas.
#
# Autor:          Daniel Kelly
# Email:          daniel.kelly@transformaciondigital.gob.mx
#
# Fecha:          24-Febrero-2025
#
# ______________________________________________________________________________
# PREAMBULO ____________________________________________________________________
#setwd("")
# rm( list=ls() )
#.rs.restartR()
# librerias
pacman::p_load(tidyverse, readxl, showtext, janitor, fixest, zoo)
# idioma
Sys.setlocale("LC_ALL", "es_ES.UTF-8")
Sys.setenv(LANG = "es_MX.UTF-8")
# utilidades
# font_add_google("Montserrat")
# showtext_auto()
options(scipen = 999)
# opciones
#create_project_folders()
#file.edit("~/.Rprofile")
#file.edit("/Users/danielkelly/.config/rstudio/templates/default.R")
# CÓDIGO _______________________________________________________________________
# Data -------------------------------------------------------------------------
igae <- read_xlsx("input/igae.xlsx") |>
mutate(fecha=seq(as.Date("2022-01-01"), as.Date("2024-12-01"), by="month"))
inpc <- read_xlsx("input/inpc.xlsx")|>
mutate(fecha=seq(as.Date("2021-01-01"), as.Date("2025-02-01"), by="month")) |>
filter(year(fecha)>=2022)
tdc <- read_xlsx("input/tdc.xlsx") |>
mutate(
tdc=ifelse(tdc=="N/E", NA, tdc) |> as.numeric(),
fecha=as.Date(fecha, format="%d/%m/%Y") |> format.Date("%Y-%m-%d") |> as.Date()
) |>
filter(year(fecha)>=2022)
load("input/panel_aduanas.RData")
load("input/coef.RData")
# Script -----------------------------------------------------------------------
# Tipo de cambio promedio por mes
tdc_mes <- tdc |>
mutate(fecha=floor_date(fecha, unit="month")) |>
group_by(fecha) |>
summarise(tdc=mean(tdc, na.rm=TRUE))
# Dataframe para estimaciones
df <- data.frame(fecha=seq(as.Date("2022-01-01"), as.Date("2025-03-01"), by="month")) |>
left_join(igae) |> left_join(inpc) |> left_join(tdc_mes) |>
mutate(
mes=month(fecha),
year=year(fecha)
)
# Asignar valores vacíos
for (v in c("igae", "inpc", "tdc")) {
df[[v]] <- na.locf(df[[v]], na.rm = FALSE)
df[[v]] <- na.locf(df[[v]], na.rm = FALSE)
}
# Diferencias en TDC
tdc_base <- tdc_mes$tdc |> tail(1)
df <- df |> mutate(changes_tdc=log(tdc)-log(tdc_base))
# Diferencias en IGAE
igae_base <- igae$igae |> tail(1)
df <- df |> mutate(changes_igae=(log(igae)-log(igae_base)))
# Diferencias en INPC
inpc_base <- inpc$inpc |> tail(1)
df <- df |>  mutate(changes_inpc=log(inpc)-log(inpc_base))
# Eliminar fecha para evitar conflictos en el join
df <- df |> select(-fecha)
View(df)
# Deflactados ------------------------------------------------------------------
panel_rec_aduanas <- panel_rec_aduanas |>
mutate(
mes=month(fecha),
year=year(fecha)
) |> left_join(inpc_df |> mutate(mes=month(fecha), year=year(fecha)) |> select(-fecha))
View(inpc)
inpc |> mutate(mes=month(fecha), year=year(fecha)) |> select(-fecha)
# Deflactados ------------------------------------------------------------------
panel_rec_aduanas <- panel_rec_aduanas |>
mutate(
mes=month(fecha),
year=year(fecha)
) |> left_join(inpc |> mutate(mes=month(fecha), year=year(fecha)) |> select(-fecha))
View(panel_rec_aduanas)
panel_rec_aduanas[["inpc"]] <- na.locf(panel_rec_aduanas[["inpc"]], na.rm = FALSE)
panel_rec_aduanas[["inpc"]] <- na.locf(panel_rec_aduanas[["inpc"]], na.rm = FALSE)
View(panel_rec_aduanas)
panel_rec_aduanas <- panel_rec_aduanas |>
mutate(inpc=1/(inpc/100))
View(panel_rec_aduanas)
panel_rec_aduanas <- panel_rec_aduanas |>
mutate(inpc=(inpc/inpc_base))
View(panel_rec_aduanas)
# ______________________________________________________________________________
#
# Proyecto:       Entrega 25 - Procesamiento Aduanas
#
# Script:         2-estimaciones.R
# Objetivo:       Modelar recaudación en aduanas.
#
# Autor:          Daniel Kelly
# Email:          daniel.kelly@transformaciondigital.gob.mx
#
# Fecha:          24-Febrero-2025
#
# ______________________________________________________________________________
# PREAMBULO ____________________________________________________________________
#setwd("")
# rm( list=ls() )
#.rs.restartR()
# librerias
pacman::p_load(tidyverse, readxl, showtext, janitor, fixest, zoo)
# idioma
Sys.setlocale("LC_ALL", "es_ES.UTF-8")
Sys.setenv(LANG = "es_MX.UTF-8")
# utilidades
# font_add_google("Montserrat")
# showtext_auto()
options(scipen = 999)
# opciones
#create_project_folders()
#file.edit("~/.Rprofile")
#file.edit("/Users/danielkelly/.config/rstudio/templates/default.R")
# CÓDIGO _______________________________________________________________________
# Data -------------------------------------------------------------------------
igae <- read_xlsx("input/igae.xlsx") |>
mutate(fecha=seq(as.Date("2022-01-01"), as.Date("2024-12-01"), by="month"))
inpc <- read_xlsx("input/inpc.xlsx")|>
mutate(fecha=seq(as.Date("2021-01-01"), as.Date("2025-02-01"), by="month")) |>
filter(year(fecha)>=2022)
tdc <- read_xlsx("input/tdc.xlsx") |>
mutate(
tdc=ifelse(tdc=="N/E", NA, tdc) |> as.numeric(),
fecha=as.Date(fecha, format="%d/%m/%Y") |> format.Date("%Y-%m-%d") |> as.Date()
) |>
filter(year(fecha)>=2022)
load("input/panel_aduanas.RData")
load("input/coef.RData")
# Script -----------------------------------------------------------------------
# Tipo de cambio promedio por mes
tdc_mes <- tdc |>
mutate(fecha=floor_date(fecha, unit="month")) |>
group_by(fecha) |>
summarise(tdc=mean(tdc, na.rm=TRUE))
# Dataframe para estimaciones
df <- data.frame(fecha=seq(as.Date("2022-01-01"), as.Date("2025-03-01"), by="month")) |>
left_join(igae) |> left_join(inpc) |> left_join(tdc_mes) |>
mutate(
mes=month(fecha),
year=year(fecha)
)
# Asignar valores vacíos
for (v in c("igae", "inpc", "tdc")) {
df[[v]] <- na.locf(df[[v]], na.rm = FALSE)
df[[v]] <- na.locf(df[[v]], na.rm = FALSE)
}
# Diferencias en TDC
tdc_base <- tdc_mes$tdc |> tail(1)
df <- df |> mutate(changes_tdc=log(tdc)-log(tdc_base))
# Diferencias en IGAE
igae_base <- igae$igae |> tail(1)
df <- df |> mutate(changes_igae=(log(igae)-log(igae_base)))
# Diferencias en INPC
inpc_base <- inpc$inpc |> tail(1)
df <- df |>  mutate(changes_inpc=log(inpc)-log(inpc_base))
# Eliminar fecha para evitar conflictos en el join
df <- df |> select(-fecha)
# Deflactados ------------------------------------------------------------------
panel_rec_aduanas <- panel_rec_aduanas |>
mutate(
mes=month(fecha),
year=year(fecha)
) |> left_join(inpc |> mutate(mes=month(fecha), year=year(fecha)) |> select(-fecha))
panel_rec_aduanas[["inpc"]] <- na.locf(panel_rec_aduanas[["inpc"]], na.rm = FALSE)
panel_rec_aduanas[["inpc"]] <- na.locf(panel_rec_aduanas[["inpc"]], na.rm = FALSE)
panel_rec_aduanas <- panel_rec_aduanas |>
mutate(inpc=(inpc/inpc_base))
View(panel_rec_aduanas)
# ______________________________________________________________________________
#
# Proyecto:       Entrega 25 - Procesamiento Aduanas
#
# Script:         2-estimaciones.R
# Objetivo:       Modelar recaudación en aduanas.
#
# Autor:          Daniel Kelly
# Email:          daniel.kelly@transformaciondigital.gob.mx
#
# Fecha:          24-Febrero-2025
#
# ______________________________________________________________________________
# PREAMBULO ____________________________________________________________________
#setwd("")
# rm( list=ls() )
#.rs.restartR()
# librerias
pacman::p_load(tidyverse, readxl, showtext, janitor, fixest, zoo)
# idioma
Sys.setlocale("LC_ALL", "es_ES.UTF-8")
Sys.setenv(LANG = "es_MX.UTF-8")
# utilidades
# font_add_google("Montserrat")
# showtext_auto()
options(scipen = 999)
# opciones
#create_project_folders()
#file.edit("~/.Rprofile")
#file.edit("/Users/danielkelly/.config/rstudio/templates/default.R")
# CÓDIGO _______________________________________________________________________
# Data -------------------------------------------------------------------------
igae <- read_xlsx("input/igae.xlsx") |>
mutate(fecha=seq(as.Date("2022-01-01"), as.Date("2024-12-01"), by="month"))
inpc <- read_xlsx("input/inpc.xlsx")|>
mutate(fecha=seq(as.Date("2021-01-01"), as.Date("2025-02-01"), by="month")) |>
filter(year(fecha)>=2022)
tdc <- read_xlsx("input/tdc.xlsx") |>
mutate(
tdc=ifelse(tdc=="N/E", NA, tdc) |> as.numeric(),
fecha=as.Date(fecha, format="%d/%m/%Y") |> format.Date("%Y-%m-%d") |> as.Date()
) |>
filter(year(fecha)>=2022)
load("input/panel_aduanas.RData")
load("input/coef.RData")
# Script -----------------------------------------------------------------------
# Tipo de cambio promedio por mes
tdc_mes <- tdc |>
mutate(fecha=floor_date(fecha, unit="month")) |>
group_by(fecha) |>
summarise(tdc=mean(tdc, na.rm=TRUE))
# Dataframe para estimaciones
df <- data.frame(fecha=seq(as.Date("2022-01-01"), as.Date("2025-03-01"), by="month")) |>
left_join(igae) |> left_join(inpc) |> left_join(tdc_mes) |>
mutate(
mes=month(fecha),
year=year(fecha)
)
# Asignar valores vacíos
for (v in c("igae", "inpc", "tdc")) {
df[[v]] <- na.locf(df[[v]], na.rm = FALSE)
df[[v]] <- na.locf(df[[v]], na.rm = FALSE)
}
# Diferencias en TDC
tdc_base <- tdc_mes$tdc |> tail(1)
df <- df |> mutate(changes_tdc=log(tdc)-log(tdc_base))
# Diferencias en IGAE
igae_base <- igae$igae |> tail(1)
df <- df |> mutate(changes_igae=(log(igae)-log(igae_base)))
# Diferencias en INPC
inpc_base <- inpc$inpc |> tail(1)
df <- df |>  mutate(changes_inpc=log(inpc)-log(inpc_base))
# Eliminar fecha para evitar conflictos en el join
df <- df |> select(-fecha)
# Deflactados ------------------------------------------------------------------
panel_rec_aduanas <- panel_rec_aduanas |>
mutate(
mes=month(fecha),
year=year(fecha)
) |> left_join(inpc |> mutate(mes=month(fecha), year=year(fecha)) |> select(-fecha))
panel_rec_aduanas[["inpc"]] <- na.locf(panel_rec_aduanas[["inpc"]], na.rm = FALSE)
panel_rec_aduanas[["inpc"]] <- na.locf(panel_rec_aduanas[["inpc"]], na.rm = FALSE)
panel_rec_aduanas <- panel_rec_aduanas |>
mutate(inpc=(inpc/inpc_base)) |>
mutate(
recaudacion_aj=recaudacion*(1/inpc)
) |>
View(panel_rec_aduanas)
# ______________________________________________________________________________
#
# Proyecto:       Entrega 25 - Procesamiento Aduanas
#
# Script:         2-estimaciones.R
# Objetivo:       Modelar recaudación en aduanas.
#
# Autor:          Daniel Kelly
# Email:          daniel.kelly@transformaciondigital.gob.mx
#
# Fecha:          24-Febrero-2025
#
# ______________________________________________________________________________
# PREAMBULO ____________________________________________________________________
#setwd("")
# rm( list=ls() )
#.rs.restartR()
# librerias
pacman::p_load(tidyverse, readxl, showtext, janitor, fixest, zoo)
# idioma
Sys.setlocale("LC_ALL", "es_ES.UTF-8")
Sys.setenv(LANG = "es_MX.UTF-8")
# utilidades
# font_add_google("Montserrat")
# showtext_auto()
options(scipen = 999)
# opciones
#create_project_folders()
#file.edit("~/.Rprofile")
#file.edit("/Users/danielkelly/.config/rstudio/templates/default.R")
# CÓDIGO _______________________________________________________________________
# Data -------------------------------------------------------------------------
igae <- read_xlsx("input/igae.xlsx") |>
mutate(fecha=seq(as.Date("2022-01-01"), as.Date("2024-12-01"), by="month"))
inpc <- read_xlsx("input/inpc.xlsx")|>
mutate(fecha=seq(as.Date("2021-01-01"), as.Date("2025-02-01"), by="month")) |>
filter(year(fecha)>=2022)
tdc <- read_xlsx("input/tdc.xlsx") |>
mutate(
tdc=ifelse(tdc=="N/E", NA, tdc) |> as.numeric(),
fecha=as.Date(fecha, format="%d/%m/%Y") |> format.Date("%Y-%m-%d") |> as.Date()
) |>
filter(year(fecha)>=2022)
load("input/panel_aduanas.RData")
load("input/coef.RData")
# Script -----------------------------------------------------------------------
# Tipo de cambio promedio por mes
tdc_mes <- tdc |>
mutate(fecha=floor_date(fecha, unit="month")) |>
group_by(fecha) |>
summarise(tdc=mean(tdc, na.rm=TRUE))
# Dataframe para estimaciones
df <- data.frame(fecha=seq(as.Date("2022-01-01"), as.Date("2025-03-01"), by="month")) |>
left_join(igae) |> left_join(inpc) |> left_join(tdc_mes) |>
mutate(
mes=month(fecha),
year=year(fecha)
)
# Asignar valores vacíos
for (v in c("igae", "inpc", "tdc")) {
df[[v]] <- na.locf(df[[v]], na.rm = FALSE)
df[[v]] <- na.locf(df[[v]], na.rm = FALSE)
}
# Diferencias en TDC
tdc_base <- tdc_mes$tdc |> tail(1)
df <- df |> mutate(changes_tdc=log(tdc)-log(tdc_base))
# Diferencias en IGAE
igae_base <- igae$igae |> tail(1)
df <- df |> mutate(changes_igae=(log(igae)-log(igae_base)))
# Diferencias en INPC
inpc_base <- inpc$inpc |> tail(1)
df <- df |>  mutate(changes_inpc=log(inpc)-log(inpc_base))
# Eliminar fecha para evitar conflictos en el join
df <- df |> select(-fecha)
# Deflactados ------------------------------------------------------------------
panel_rec_aduanas <- panel_rec_aduanas |>
mutate(
mes=month(fecha),
year=year(fecha)
) |> left_join(inpc |> mutate(mes=month(fecha), year=year(fecha)) |> select(-fecha))
panel_rec_aduanas[["inpc"]] <- na.locf(panel_rec_aduanas[["inpc"]], na.rm = FALSE)
panel_rec_aduanas[["inpc"]] <- na.locf(panel_rec_aduanas[["inpc"]], na.rm = FALSE)
panel_rec_aduanas <- panel_rec_aduanas |>
mutate(inpc=(inpc/inpc_base)) |>
mutate(
recaudacion_aj=recaudacion*(1/inpc)
) |>
select(-c(inpc, mes, year))
View(panel_rec_aduanas)
source("~/Library/Mobile Documents/com~apple~CloudDocs/ATDyT/Entrega 25 - Procesamiento Aduanas/ajutste_aduanas_ATDT/scripts/deprecated/2-estimaciones.R", echo=TRUE)
source("~/Library/Mobile Documents/com~apple~CloudDocs/ATDyT/Entrega 25 - Procesamiento Aduanas/ajutste_aduanas_ATDT/scripts/deprecated/2-estimaciones.R", echo=TRUE)
